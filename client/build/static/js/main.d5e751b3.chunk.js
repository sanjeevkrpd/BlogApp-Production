(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,a,t){e.exports=t(159)},145:function(e,a,t){},158:function(e,a,t){},159:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(113),o=t.n(r),c=(t(145),t(7)),i=t(30),s=t(217),m=t(234),d=t(235),u=t(232),g=t(227),p=t(222),b=t(236),E=t(224),v=t(23),f=t(36),h=t(100);const y=Object(h.b)({name:"auth",initialState:{isLogin:!1},reducers:{login(e){e.isLogin=!0},logout(e){e.isLogin=!1}}}),w=y.actions,x=Object(h.a)({reducer:y.reducer});var N=t(20),S=t.n(N),j=t(225),O=t(229),k=t(230),C=t(231),F=t(233),L=t(120),I=t.n(L);var B=()=>{const[e,a]=Object(l.useState)(!1);let t=Object(f.c)(e=>e.isLogin);t=t||localStorage.getItem("userId");const r=Object(c.o)(),o=Object(f.b)();return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,{open:e,onClose:()=>a(!1)},n.a.createElement(O.a,null,[{name:"Blogs",link:"/blogs"},{name:"My Blogs",link:"/my-blogs"},{name:"Create Blog",link:"/create-blog"}].map((e,a)=>n.a.createElement(k.a,{key:a,component:v.b,to:e.link},n.a.createElement(C.a,null,e.name))),t?n.a.createElement(k.a,{onClick:()=>{try{o(w.logout()),S.a.success("Logout Successfully"),r("/login"),localStorage.removeItem("userId")}catch(e){console.log(e)}}},n.a.createElement(C.a,null,"Logout")):n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{component:v.b,to:"/login"},n.a.createElement(C.a,null,"Login")),n.a.createElement(k.a,{component:v.b,to:"/register"},n.a.createElement(C.a,null,"Register"))))),n.a.createElement(F.a,{sx:{color:"white",marginLeft:"auto"},onClick:()=>a(!e)},n.a.createElement(I.a,null)))};var T=()=>{let e=Object(f.c)(e=>e.isLogin);e=e||localStorage.getItem("userId");const a=Object(f.b)(),t=Object(c.o)(),r=Object(i.a)(),o=Object(s.a)(r.breakpoints.down("md")),[h,y]=Object(l.useState)();return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{position:"sticky"},n.a.createElement(d.a,null,n.a.createElement(u.a,{variant:"h4"},"BLOG APP"),o?n.a.createElement(n.a.Fragment,null,n.a.createElement(B,null)):n.a.createElement(n.a.Fragment,null,e&&n.a.createElement(g.a,{display:"flex",marginLeft:"auto",marginRight:"auto"},n.a.createElement(p.a,{textColor:"inherit",value:h,onChange:(e,a)=>y(a)},n.a.createElement(b.a,{label:"Blogs",component:v.b,to:"/blogs"}),n.a.createElement(b.a,{label:"My Blogs",component:v.b,to:"/my-blogs"}),n.a.createElement(b.a,{label:"Create Blog",component:v.b,to:"/create-blog"})))),!o&&n.a.createElement(g.a,{display:"flex",marginLeft:"auto"},e?n.a.createElement(E.a,{onClick:()=>{try{a(w.logout()),S.a.success("Logout Successfully"),t("/login"),localStorage.clear()}catch(e){console.log(e)}},sx:{margin:1,color:"white"}},"Logout"):n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{sx:{margin:1,color:"white"},component:v.b,to:"/login"},"Login"),n.a.createElement(E.a,{sx:{margin:1,color:"white"},component:v.b,to:"/register"},"Register"))))))},D=t(219),R=t(237),q=t(238),A=t(239),P=t(240),U=t(223),_=t(53),M=t(121),W=t.n(M),G=t(122),J=t.n(G);function V(e){let{title:a,description:t,image:n,username:r,time:o,id:m,isUser:d}=e;const p=Object(c.o)(),b=Object(i.a)(),E=Object(s.a)(b.breakpoints.up("md"));return l.createElement(R.a,{sx:{width:E?"45%":"82%",display:"flex",margin:E?"auto":"1px 30px",flexWrap:"wrap",mt:2,padding:2,boxShadow:"5px 5px 10px #ccc",":hover:":{boxShadow:"10px 10px 20px #ccc"}}},d&&l.createElement(g.a,{display:"flex"},l.createElement(F.a,{onClick:()=>{p("/blog-details/".concat(m))},sx:{marginLeft:"auto"}},l.createElement(W.a,{color:"info"})),l.createElement(F.a,{onClick:async()=>{try{const{data:a}=await D.a.delete("/api/v1/blog/delete-blog/".concat(m));(null===a||void 0===a?void 0:a.success)&&(alert("Blog Deleted"),S.a.success("Blog Deleted Successfully"),window.location.reload())}catch(e){console.log(e)}}},l.createElement(J.a,{color:"error"}))),l.createElement(q.a,{avatar:l.createElement(U.a,{sx:{bgcolor:_.a[500]},"aria-label":"recipe"},r),title:r,subheader:o}),l.createElement(A.a,{component:"img",height:"300",image:n,alt:"Image"}),l.createElement(P.a,null,l.createElement(u.a,{variant:"h6",color:"text.secondary"},"Title: ",a),l.createElement(u.a,{variant:"p",color:"text.secondary"},"Description: ",t)))}var H=()=>{const[e,a]=Object(l.useState)([]);return Object(l.useEffect)(()=>{(async()=>{try{const t=await D.a.get("/api/v1/blog/all-blog");t.data.success&&a(t.data.blogs)}catch(e){console.log(e)}})()},[]),n.a.createElement("div",null,e&&e.map(e=>{var a,t;return n.a.createElement(V,{key:e._id,id:null===e||void 0===e?void 0:e._id,isUser:localStorage.getItem("userId")===(null===e||void 0===e?void 0:null===(a=e.user)||void 0===a?void 0:a._id),title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,image:null===e||void 0===e?void 0:e.image.url,username:null===e||void 0===e?void 0:null===(t=e.user)||void 0===t?void 0:t.username,time:e.createdAt})}))},Y=t(218);var z=()=>{const e=Object(c.o)(),a=Object(f.b)(),[t,r]=Object(l.useState)({email:"",password:""}),o=e=>{r(a=>({...a,[e.target.name]:e.target.value}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:async l=>{l.preventDefault();try{const{data:l}=await D.a.post("/api/v1/user/login",{email:t.email,password:t.password});l.success?(localStorage.setItem("userId",null===l||void 0===l?void 0:l.user._id),a(w.login()),S.a.success("User login Successfully"),e("/")):S.a.error(l.message)}catch(n){console.log(n),S.a.error(n.message)}}},n.a.createElement(g.a,{maxWidth:450,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:5,boxShadow:"10px 10px 20px #ccc",padding:3,borderRadius:5,marginBottom:40},n.a.createElement(u.a,{variant:"h4",sx:{textTransform:"uppercase"},padding:3,textAlign:"center"},"Login"),n.a.createElement(Y.a,{placeholder:"email",value:t.email,name:"email",margin:"normal",type:"email",required:!0,onChange:o}),n.a.createElement(Y.a,{placeholder:"password",value:t.password,name:"password",margin:"normal",type:"password",required:!0,onChange:o}),n.a.createElement(E.a,{type:"submit",sx:{borderRadius:3,marginTop:3},variant:"contained",color:"primary"},"Submit"),n.a.createElement(E.a,{onClick:()=>e("/register"),sx:{borderRadius:3,marginTop:3}},"Not a user ? Please Register"))))};var K=()=>{const e=Object(c.o)(),[a,t]=Object(l.useState)({name:"",email:"",password:""}),r=e=>{t(a=>({...a,[e.target.name]:e.target.value}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const{data:t}=await D.a.post("/api/v1/user/register",{username:a.name,email:a.email,password:a.password});t.success&&(S.a.success("User Register Successfully"),e("/login"))}catch(l){console.log(l)}}},n.a.createElement(g.a,{maxWidth:450,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:5,boxShadow:"10px 10px 20px #ccc",padding:3,borderRadius:5,marginBottom:40},n.a.createElement(u.a,{variant:"h4",sx:{textTransform:"uppercase"},padding:3,textAlign:"center"},"Register"),n.a.createElement(Y.a,{placeholder:"name",value:a.name,onChange:r,name:"name",margin:"normal",type:"text",required:!0}),n.a.createElement(Y.a,{placeholder:"email",value:a.email,name:"email",margin:"normal",type:"email",required:!0,onChange:r}),n.a.createElement(Y.a,{placeholder:"password",value:a.password,name:"password",margin:"normal",type:"password",required:!0,onChange:r}),n.a.createElement(E.a,{type:"submit",sx:{borderRadius:3,marginTop:3},variant:"contained",color:"primary"},"Submit"),n.a.createElement(E.a,{onClick:()=>e("/login"),sx:{borderRadius:3,marginTop:3}},"Already Registerd ? Please Login"))))};var Q=()=>{const[e,a]=Object(l.useState)([]);return Object(l.useEffect)(()=>{(async()=>{try{const t=localStorage.getItem("userId"),{data:l}=await D.a.get("/api/v1/blog/user-blog/".concat(t));(null===l||void 0===l?void 0:l.success)&&a(null===l||void 0===l?void 0:l.userBlog.blogs)}catch(e){console.log(e)}})()},[]),console.log(e),n.a.createElement("div",null,e&&e.length>0?e.map(e=>n.a.createElement(V,{id:e._id,isUser:!0,title:e.title,description:e.description,image:e.image.url,username:e.user.username,time:e.createdAt})):n.a.createElement("h1",null,"You Havent Created any blog"))};t(158);var X=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement("footer",null,n.a.createElement("div",{className:"position-absolute bottom-0  main "},n.a.createElement("div",{className:"f-info"},n.a.createElement("div",{className:"f-info-socials"},n.a.createElement("a",{href:"https://www.facebook.com/profile.php?id=100010234428520",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"fa-brands fa-facebook",href:""})),n.a.createElement("a",{href:"https://www.instagram.com/sanjeev_kr_prasad11/",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"fa-brands fa-square-instagram"})),n.a.createElement("a",{href:"https://www.linkedin.com/in/sanjeev-kumar-537555249/",target:"_blank",rel:"noopener noreferrer"}," ",n.a.createElement("i",{className:"fa-brands fa-linkedin"}))),n.a.createElement("div",{className:"f-info-company"}," \xa9 BLOGAPP Private Limited"),n.a.createElement("div",{className:"f-info-links"},n.a.createElement("a",{href:"/privacy"},"Privacy"),n.a.createElement("a",{href:"/terms"},"Terms"))))));var Z=()=>{const e=localStorage.getItem("userId"),[a,t]=Object(l.useState)(null),r=Object(c.o)(),[o,i]=Object(l.useState)({title:"",description:""}),s=e=>{i(a=>({...a,[e.target.name]:e.target.value}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"offset-2 mt-5"},"Create A New Blog"),n.a.createElement("div",{className:"row "},n.a.createElement("div",{className:"col-8 offset-2"},n.a.createElement("form",{className:"needs-validation",noValidate:!0,onSubmit:async t=>{t.preventDefault();try{const t=new FormData;t.append("title",o.title),t.append("description",o.description),t.append("image",a),t.append("user",e);const n=await D.a.post("/api/v1/blog/create-blog",t,{headers:{"Content-Type":"multipart/form-data"}});console.log(n.data),n.data.success&&(S.a.success("Blog Created"),r("/my-blogs"))}catch(l){console.error(l),S.a.error("Failed to create blog")}}},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"title",className:"form-label"},"Title"),n.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title",placeholder:"Add a catchy title",required:!0,value:o.title,onChange:s}),n.a.createElement("div",{className:"valid-feedback"},"Title looks good")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"description",className:"form-label"},"Description"),n.a.createElement("textarea",{rows:"4",className:"form-control",id:"description",name:"description",required:!0,value:o.description,onChange:s}),n.a.createElement("div",{className:"invalid-feedback"},"Description should be valid")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"image",className:"form-label"},"Upload Listing Image"),n.a.createElement("input",{type:"file",className:"form-control",name:"image",required:!0,onChange:e=>{const a=e.target.files[0];a&&t(a)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary add-btn"},"Add")))),n.a.createElement(X,null))};var $=()=>{const[e,a]=Object(l.useState)(null),[t,r]=Object(l.useState)({}),{id:o}=Object(c.q)(),i=localStorage.getItem("userId"),s=Object(c.o)(),[m,d]=Object(l.useState)({title:"",description:"",image:""}),u=e=>{d(a=>({...a,[e.target.name]:e.target.value}))};return Object(l.useEffect)(()=>{(async()=>{try{const a=await D.a.get("/api/v1/blog/get-blog/".concat(o));a.data.success&&(r(a.data.blog),d({title:a.data.blog.title,description:a.data.blog.description,image:a.data.blog.image.url||""}))}catch(e){console.log(e)}})()},[o]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"offset-2 mt-5"},"Update Blog"),n.a.createElement("div",{className:"row "},n.a.createElement("div",{className:"col-8 offset-2"},n.a.createElement("form",{className:"needs-validation",noValidate:!0,onSubmit:async a=>{a.preventDefault();try{const a=new FormData;a.append("title",m.title),a.append("description",m.description),a.append("image",e),a.append("user",i),(await D.a.put("/api/v1/blog/update-blog/".concat(o),a,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&(S.a.success("Blog Updated"),s("/my-blogs"))}catch(t){console.error(t),S.a.error("Failed to update blog")}}},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"title",className:"form-label"},"Title"),n.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title",placeholder:"Add a catchy title",required:!0,value:m.title,onChange:u}),n.a.createElement("div",{className:"valid-feedback"},"Title looks good")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"description",className:"form-label"},"Description"),n.a.createElement("textarea",{rows:"4",className:"form-control",id:"description",name:"description",required:!0,value:m.description,onChange:u}),n.a.createElement("div",{className:"invalid-feedback"},"Description should be valid")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"image",className:"form-label"},"Upload Listing Image"),n.a.createElement("input",{type:"file",className:"form-control",name:"image",required:!0,onChange:e=>{const t=e.target.files[0];t&&a(t)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary add-btn"},"Update")))),n.a.createElement(X,null))};var ee=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(T,null),n.a.createElement(N.Toaster,null),n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/",element:n.a.createElement(H,null)}),n.a.createElement(c.a,{path:"/blogs",element:n.a.createElement(H,null)}),n.a.createElement(c.a,{path:"/my-blogs",element:n.a.createElement(Q,null)}),n.a.createElement(c.a,{path:"/blog-details/:id",element:n.a.createElement($,null)}),n.a.createElement(c.a,{path:"/create-blog",element:n.a.createElement(Z,null)}),n.a.createElement(c.a,{path:"/login",element:n.a.createElement(z,null)}),n.a.createElement(c.a,{path:"/register",element:n.a.createElement(K,null)})))};var ae=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,241)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:r,getTTFB:o}=a;t(e),l(e),n(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(n.a.createElement(f.a,{store:x},n.a.createElement(v.a,null,n.a.createElement(n.a.StrictMode,null,n.a.createElement(ee,null))))),ae()}},[[138,1,2]]]);
//# sourceMappingURL=main.d5e751b3.chunk.js.map